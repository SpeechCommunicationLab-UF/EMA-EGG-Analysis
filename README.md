# EMA-EGG-Analysis
Repository for data analysis scripts created for analyzing EGG and EMA data. 
Hello! This file describes the data processing pipeline for EMA-EGG experiments, including the scripts necessary to perform the processing.

Please cite Goel et. al. if using for analysis. 

Written by: Jessica Goel
Last Updated: 25 Jan 2023

Step 1: MVIEW processing

The MVIEW toolbox should be used to generate .mat files from the native .pos and .wav files generated by the EMA, according to the toolbox instructions for processing these files. 

These .mat files contain synchronized position and audio data in the form of nested structs, and can be meaningfully analyzed in MVIEW already. The rest of this data processing pipeline will utilize the .mat filetype, so it is necessary to perform this step first. 

Step 2: Audio Segmentation

The script to perform the audio segmentation is called “EMA_EGG_Alignment”. This script utilizes the findsignals function to comb through the larger EGG .wav file for a matching chunk of the EMA .wav file, and then segmenting this chunk into its own .wav file. This separated .wav file is then combined with the pre-existing .mat file created in Step 1. 

Step 3: Combining Files

The script to perform the combination step is called . The script loops through given directories of .mat and .wav files, and combines them into a single .mat file so that all of the data (EMA, EGG) can be analyzed concurrently in MVIEW. 

Step 4: Adding F0

The script that adds F0 to the .mat file is called “F0_Addition”. It reads the wave signal from the EGG .wav line, calculates F0 using MVIEW’s F0 calculation function, and appends this new function to the .mat file as a separate line. 

Step 5: Generating .tsv Files

After the final combined .mat file, with both EGG data and F0 has been created, it can then be viewed in MVIEW. Using MVIEW’s GUI, landmarks can be created and saved in a .tsv file for further processing and statistical analysis. 
